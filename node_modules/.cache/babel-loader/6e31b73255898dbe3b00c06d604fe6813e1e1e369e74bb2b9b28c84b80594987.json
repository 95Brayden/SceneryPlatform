{"ast":null,"code":"/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label='⇧'] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {string} [compassClassName='ol-compass'] CSS class name for the compass.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function():void} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nclass Rotate extends Control {\n  /**\n   * @param {Options} [options] Rotate options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n    super({\n      element: document.createElement('div'),\n      render: options.render,\n      target: options.target\n    });\n    const className = options.className !== undefined ? options.className : 'ol-rotate';\n    const label = options.label !== undefined ? options.label : '\\u21E7';\n    const compassClassName = options.compassClassName !== undefined ? options.compassClassName : 'ol-compass';\n\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n    this.label_ = null;\n    if (typeof label === 'string') {\n      this.label_ = document.createElement('span');\n      this.label_.className = compassClassName;\n      this.label_.textContent = label;\n    } else {\n      this.label_ = label;\n      this.label_.classList.add(compassClassName);\n    }\n    const tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n    const button = document.createElement('button');\n    button.className = className + '-reset';\n    button.setAttribute('type', 'button');\n    button.title = tipLabel;\n    button.appendChild(this.label_);\n    button.addEventListener(EventType.CLICK, this.handleClick_.bind(this), false);\n    const cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n    const element = this.element;\n    element.className = cssClasses;\n    element.appendChild(button);\n    this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.rotation_ = undefined;\n    if (this.autoHide_) {\n      this.element.classList.add(CLASS_HIDDEN);\n    }\n  }\n\n  /**\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  handleClick_(event) {\n    event.preventDefault();\n    if (this.callResetNorth_ !== undefined) {\n      this.callResetNorth_();\n    } else {\n      this.resetNorth_();\n    }\n  }\n\n  /**\n   * @private\n   */\n  resetNorth_() {\n    const map = this.getMap();\n    const view = map.getView();\n    if (!view) {\n      // the map does not have a view, so we can't act\n      // upon it\n      return;\n    }\n    const rotation = view.getRotation();\n    if (rotation !== undefined) {\n      if (this.duration_ > 0 && rotation % (2 * Math.PI) !== 0) {\n        view.animate({\n          rotation: 0,\n          duration: this.duration_,\n          easing: easeOut\n        });\n      } else {\n        view.setRotation(0);\n      }\n    }\n  }\n\n  /**\n   * Update the rotate control element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @override\n   */\n  render(mapEvent) {\n    const frameState = mapEvent.frameState;\n    if (!frameState) {\n      return;\n    }\n    const rotation = frameState.viewState.rotation;\n    if (rotation != this.rotation_) {\n      const transform = 'rotate(' + rotation + 'rad)';\n      if (this.autoHide_) {\n        const contains = this.element.classList.contains(CLASS_HIDDEN);\n        if (!contains && rotation === 0) {\n          this.element.classList.add(CLASS_HIDDEN);\n        } else if (contains && rotation !== 0) {\n          this.element.classList.remove(CLASS_HIDDEN);\n        }\n      }\n      this.label_.style.transform = transform;\n    }\n    this.rotation_ = rotation;\n  }\n}\nexport default Rotate;","map":{"version":3,"names":["Control","EventType","CLASS_CONTROL","CLASS_HIDDEN","CLASS_UNSELECTABLE","easeOut","Rotate","constructor","options","element","document","createElement","render","target","className","undefined","label","compassClassName","label_","textContent","classList","add","tipLabel","button","setAttribute","title","appendChild","addEventListener","CLICK","handleClick_","bind","cssClasses","callResetNorth_","resetNorth","duration_","duration","autoHide_","autoHide","rotation_","event","preventDefault","resetNorth_","map","getMap","view","getView","rotation","getRotation","Math","PI","animate","easing","setRotation","mapEvent","frameState","viewState","transform","contains","remove","style"],"sources":["E:/Desktop/SceneryPlatform_v3.0_LTS/node_modules/ol/control/Rotate.js"],"sourcesContent":["/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport {CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE} from '../css.js';\nimport {easeOut} from '../easing.js';\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label='⇧'] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {string} [compassClassName='ol-compass'] CSS class name for the compass.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function():void} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nclass Rotate extends Control {\n  /**\n   * @param {Options} [options] Rotate options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    super({\n      element: document.createElement('div'),\n      render: options.render,\n      target: options.target,\n    });\n\n    const className =\n      options.className !== undefined ? options.className : 'ol-rotate';\n\n    const label = options.label !== undefined ? options.label : '\\u21E7';\n\n    const compassClassName =\n      options.compassClassName !== undefined\n        ? options.compassClassName\n        : 'ol-compass';\n\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n    this.label_ = null;\n\n    if (typeof label === 'string') {\n      this.label_ = document.createElement('span');\n      this.label_.className = compassClassName;\n      this.label_.textContent = label;\n    } else {\n      this.label_ = label;\n      this.label_.classList.add(compassClassName);\n    }\n\n    const tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n\n    const button = document.createElement('button');\n    button.className = className + '-reset';\n    button.setAttribute('type', 'button');\n    button.title = tipLabel;\n    button.appendChild(this.label_);\n\n    button.addEventListener(\n      EventType.CLICK,\n      this.handleClick_.bind(this),\n      false\n    );\n\n    const cssClasses =\n      className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n    const element = this.element;\n    element.className = cssClasses;\n    element.appendChild(button);\n\n    this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.rotation_ = undefined;\n\n    if (this.autoHide_) {\n      this.element.classList.add(CLASS_HIDDEN);\n    }\n  }\n\n  /**\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  handleClick_(event) {\n    event.preventDefault();\n    if (this.callResetNorth_ !== undefined) {\n      this.callResetNorth_();\n    } else {\n      this.resetNorth_();\n    }\n  }\n\n  /**\n   * @private\n   */\n  resetNorth_() {\n    const map = this.getMap();\n    const view = map.getView();\n    if (!view) {\n      // the map does not have a view, so we can't act\n      // upon it\n      return;\n    }\n    const rotation = view.getRotation();\n    if (rotation !== undefined) {\n      if (this.duration_ > 0 && rotation % (2 * Math.PI) !== 0) {\n        view.animate({\n          rotation: 0,\n          duration: this.duration_,\n          easing: easeOut,\n        });\n      } else {\n        view.setRotation(0);\n      }\n    }\n  }\n\n  /**\n   * Update the rotate control element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @override\n   */\n  render(mapEvent) {\n    const frameState = mapEvent.frameState;\n    if (!frameState) {\n      return;\n    }\n    const rotation = frameState.viewState.rotation;\n    if (rotation != this.rotation_) {\n      const transform = 'rotate(' + rotation + 'rad)';\n      if (this.autoHide_) {\n        const contains = this.element.classList.contains(CLASS_HIDDEN);\n        if (!contains && rotation === 0) {\n          this.element.classList.add(CLASS_HIDDEN);\n        } else if (contains && rotation !== 0) {\n          this.element.classList.remove(CLASS_HIDDEN);\n        }\n      }\n      this.label_.style.transform = transform;\n    }\n    this.rotation_ = rotation;\n  }\n}\n\nexport default Rotate;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}