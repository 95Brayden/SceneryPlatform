{"ast":null,"code":"import { applyPredictor } from '../predictor.js';\nexport default class BaseDecoder {\n  async decode(fileDirectory, buffer) {\n    const decoded = await this.decodeBlock(buffer);\n    const predictor = fileDirectory.Predictor || 1;\n    if (predictor !== 1) {\n      const isTiled = !fileDirectory.StripOffsets;\n      const tileWidth = isTiled ? fileDirectory.TileWidth : fileDirectory.ImageWidth;\n      const tileHeight = isTiled ? fileDirectory.TileLength : fileDirectory.RowsPerStrip || fileDirectory.ImageLength;\n      return applyPredictor(decoded, predictor, tileWidth, tileHeight, fileDirectory.BitsPerSample, fileDirectory.PlanarConfiguration);\n    }\n    return decoded;\n  }\n}","map":{"version":3,"names":["applyPredictor","BaseDecoder","decode","fileDirectory","buffer","decoded","decodeBlock","predictor","Predictor","isTiled","StripOffsets","tileWidth","TileWidth","ImageWidth","tileHeight","TileLength","RowsPerStrip","ImageLength","BitsPerSample","PlanarConfiguration"],"sources":["E:/Desktop/scenerymonitor/node_modules/geotiff/dist-module/compression/basedecoder.js"],"sourcesContent":["import { applyPredictor } from '../predictor.js';\n\nexport default class BaseDecoder {\n  async decode(fileDirectory, buffer) {\n    const decoded = await this.decodeBlock(buffer);\n    const predictor = fileDirectory.Predictor || 1;\n    if (predictor !== 1) {\n      const isTiled = !fileDirectory.StripOffsets;\n      const tileWidth = isTiled ? fileDirectory.TileWidth : fileDirectory.ImageWidth;\n      const tileHeight = isTiled ? fileDirectory.TileLength : (\n        fileDirectory.RowsPerStrip || fileDirectory.ImageLength\n      );\n      return applyPredictor(\n        decoded, predictor, tileWidth, tileHeight, fileDirectory.BitsPerSample,\n        fileDirectory.PlanarConfiguration,\n      );\n    }\n    return decoded;\n  }\n}\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,iBAAiB;AAEhD,eAAe,MAAMC,WAAW,CAAC;EAC/B,MAAMC,MAAMA,CAACC,aAAa,EAAEC,MAAM,EAAE;IAClC,MAAMC,OAAO,GAAG,MAAM,IAAI,CAACC,WAAW,CAACF,MAAM,CAAC;IAC9C,MAAMG,SAAS,GAAGJ,aAAa,CAACK,SAAS,IAAI,CAAC;IAC9C,IAAID,SAAS,KAAK,CAAC,EAAE;MACnB,MAAME,OAAO,GAAG,CAACN,aAAa,CAACO,YAAY;MAC3C,MAAMC,SAAS,GAAGF,OAAO,GAAGN,aAAa,CAACS,SAAS,GAAGT,aAAa,CAACU,UAAU;MAC9E,MAAMC,UAAU,GAAGL,OAAO,GAAGN,aAAa,CAACY,UAAU,GACnDZ,aAAa,CAACa,YAAY,IAAIb,aAAa,CAACc,WAC7C;MACD,OAAOjB,cAAc,CACnBK,OAAO,EAAEE,SAAS,EAAEI,SAAS,EAAEG,UAAU,EAAEX,aAAa,CAACe,aAAa,EACtEf,aAAa,CAACgB,mBAChB,CAAC;IACH;IACA,OAAOd,OAAO;EAChB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}